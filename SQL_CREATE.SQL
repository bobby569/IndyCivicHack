DROP TABLE ORGANIZATION;
DROP TABLE EVENT;
DROP TABLE PARTICIPANT;

CREATE TABLE ORGANIZATION
(   OID       INT PRIMARY KEY AUTO_INCREMENT,
    NAME      VARCHAR(255)    NOT NULL,
    PASSWORD    VARCHAR(255)    NOT NULL,
    ADDRESS     VARCHAR(255)    NOT NULL,
    WEBSITE     VARCHAR(255),
    EMAIL       VARCHAR(255));

CREATE TABLE EVENT
(   EID       INT PRIMARY KEY AUTO_INCREMENT,
    OID       INT FOREIGN KEY REFERENCES ORGANIZATION,
    TITLE      VARCHAR(255)    NOT NULL,
    SUMMARY    VARCHAR(255)    NOT NULL,
    ADDRESS     VARCHAR(255)   NOT NULL,
    ETIME     TIMESTAMP     NOT NULL,
    CTIME       TIMESTAMP  NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PHONENUMBER INT(10)       NOT NULL,
    TOTAL_SPOT     INT,
    CURRENT_SPOT     INT
);

CREATE TABLE PARTICIPANT
(   EMAIL       INT PRIMARY KEY,
    EID       INT FOREIGN KEY REFERENCES EVENT,
    NAME      VARCHAR(255)    NOT NULL,
    NPARTICIPANTS    INT    NOT NULL,
    PHONENUMBER     VARCHAR(255)   NOT NULL,
    CTIME       TIMESTAMP  NOT NULL DEFAULT CURRENT_TIMESTAMP,
);
